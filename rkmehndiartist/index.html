<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Feedback - R K Mehndi Artist</title>
    <style>
        /* --- THEME: MEHNDI & WEDDING --- */
        :root {
            --primary: #386641; /* Henna Green */
            --primary-light: #6a994e;
            --accent: #bc4749; /* Deep Maroon */
            --bg-color: #f2e8cf; /* Cream */
            --card-bg: #ffffff;
            --gold: #ffb703;
            --text-dark: #2c1810;
        }

        /* --- RESET & BODY --- */
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: var(--bg-color);
            background-image: radial-gradient(#dbd3b8 1px, transparent 1px);
            background-size: 20px 20px;
            margin: 0; padding: 20px 10px;
            min-height: 100vh; display: flex;
            justify-content: center; align-items: flex-start;
        }

        .container {
            background: var(--card-bg); width: 100%; max-width: 500px;
            padding: 25px; border-radius: 20px;
            box-shadow: 0 10px 30px rgba(56, 102, 65, 0.2);
            border-top: 6px solid var(--accent); margin: auto;
            text-align: center;
            position: relative; overflow: hidden;
        }

        .container::before { content: "üåø"; position: absolute; top: 10px; right: 15px; font-size: 24px; opacity: 0.2; }

        h1 { color: var(--accent); margin: 5px 0 2px 0; font-size: 28px; font-weight: 800; font-family: 'Georgia', serif; }
        .location { color: var(--primary); font-size: 14px; font-weight: 700; text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 15px; }
        
        .phone-link {
            text-decoration: none; color: #fff; background: var(--primary);
            padding: 10px 20px; border-radius: 25px; display: inline-block;
            font-size: 15px; font-weight: 600; transition: 0.2s;
            box-shadow: 0 4px 6px rgba(56, 102, 65, 0.3); margin-bottom: 20px;
        }

        /* --- INPUTS --- */
        select, input {
            width: 100%; padding: 12px; border-radius: 8px;
            border: 1px solid #d4c5a3; background: #faf9f6;
            font-size: 15px; outline: none; margin-bottom: 10px; color: var(--text-dark);
        }
        label { font-weight: 700; display: block; margin-top: 12px; margin-bottom: 6px; color: var(--primary); font-size: 12px; text-transform: uppercase; text-align: left; }

        /* --- RATING --- */
        .star-container { display: flex; justify-content: center; gap: 8px; margin: 20px 0; direction: ltr; }
        .star { font-size: 45px; color: #e0e0e0; cursor: pointer; transition: transform 0.2s; }
        .star.selected { color: var(--gold); }

        .experience-btns { display: flex; gap: 10px; margin-bottom: 25px; justify-content: center; }
        .exp-btn {
            padding: 12px 20px; border: 1px solid #d4c5a3; border-radius: 8px;
            background: #fff; cursor: pointer; font-weight: 600; color: var(--text-dark);
            flex: 1; transition: 0.2s;
        }
        .exp-btn.active { background: var(--primary); color: white; border-color: var(--primary); }
        .exp-btn.bad-active { background: #bc4749; color: white; border-color: #bc4749; }

        .action-btn {
            width: 100%; padding: 14px; background: linear-gradient(135deg, var(--accent) 0%, #a03032 100%);
            color: white; border: none; border-radius: 8px;
            font-size: 16px; font-weight: 700; cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,0,0,0.15); margin-top: 10px;
        }

        /* --- CHIPS --- */
        .keywords-container { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 5px; }
        .keyword-chip { 
            padding: 8px 14px; background-color: #fff; border-radius: 20px; 
            font-size: 13px; font-weight: 600; cursor: pointer; 
            border: 1px solid #d4c5a3; color: var(--primary); 
            flex-grow: 1; text-align: center;
        }
        .keyword-chip.active { background-color: var(--primary); color: white; border-color: var(--primary); }
        .cat-title { font-size: 11px; color: var(--accent); margin: 15px 0 5px 0; font-weight: 800; border-bottom: 1px dashed #d4c5a3; width:100%; text-align:left; }

        textarea.feedback-box {
            width: 100%; height: 120px; padding: 12px;
            border: 1px solid #d4c5a3; border-radius: 8px; resize: none;
            background: #faf9f6; margin-bottom: 15px; font-family: inherit;
        }

        .copy-btn { width: 100%; padding: 12px; background-color: #e85d04; color: white; border: none; border-radius: 8px; margin-top: 15px; font-weight: 600; font-size: 15px; cursor: pointer; display: none; }

        /* --- ANIMATION --- */
        .fade-in { animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(188, 71, 73, 0.7); }
            70% { transform: scale(1.1); box-shadow: 0 0 0 10px rgba(188, 71, 73, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(188, 71, 73, 0); }
        }

        .toggle-name { font-size: 13px; color: var(--accent); text-decoration: underline; cursor: pointer; float: right; margin-top: 5px; border: none; background: none; }
        .or-divider { text-align: center; font-size: 12px; color: #64748b; margin: 20px 0; border-top: 1px solid #d4c5a3; position: relative; }
        .or-divider span { background: #fff; padding: 0 10px; position: relative; top: -10px; }

        /* FOOTER */
        .footer { margin-top: 35px; text-align: center; font-size: 12px; color: #64748b; border-top: 1px dashed #d4c5a3; padding-top: 15px; }
        .footer-logo { display: block; margin: 0 auto 5px auto; max-height: 28px; width: auto; opacity: 0.85; }
    </style>
</head>
<body>

<div class="container">
    
    <h1>R K Mehndi Artist</h1>
    <div class="location">‚ú® Jaipur, Rajasthan ‚ú®</div>
    <div><a href="tel:+917425899728" class="phone-link">üìû Book Appointment</a></div>

    <div id="ratingScreen" class="fade-in">
        <p>How was your Mehndi experience?</p>
        <div class="star-container">
            <span class="star" onclick="rate(1)">‚òÖ</span>
            <span class="star" onclick="rate(2)">‚òÖ</span>
            <span class="star" onclick="rate(3)">‚òÖ</span>
            <span class="star" onclick="rate(4)">‚òÖ</span>
            <span class="star" onclick="rate(5)">‚òÖ</span>
        </div>
        <div class="experience-btns">
            <button class="exp-btn" id="btn-bad" onclick="selectExp('bad')">Not Good üòû</button>
            <button class="exp-btn" id="btn-good" onclick="selectExp('good')">Loved it! üòç</button>
        </div>
        <button class="action-btn" onclick="processRating()">Next Step ‚û°</button>
    </div>

    <div id="privateFeedbackScreen" class="fade-in" style="display: none;">
        <h2 style="color:var(--accent);">We are sorry! üòî</h2>
        <p>Please tell us what went wrong.</p>
        <textarea id="privateFeedbackText" class="feedback-box" placeholder="Describe the issue..."></textarea>
        <button class="action-btn" style="background:#4b5563;" onclick="submitPrivateFeedback()">Submit Feedback</button>
    </div>

    <div id="thankYouScreen" class="fade-in" style="display: none;">
        <div style="font-size: 50px; margin-bottom:10px;">‚úÖ</div>
        <h2 style="color:var(--primary);">Thank You!</h2>
        <p>Your feedback has been submitted successfully.</p>
    </div>

    <div id="aiToolScreen" class="ai-tool-wrapper fade-in" style="display: none;">
        
        <div style="background: #e9f5db; padding: 15px; border-radius: 12px; margin-bottom: 20px; border: 1px dashed var(--primary);">
            <p style="margin:0 0 10px 0; font-size:13px; font-weight:700; color:var(--primary);">
                üéôÔ∏è Speak (Hindi/Marwadi) -> Get English Review
            </p>
            
            <div style="display:flex; gap:10px; align-items:center;">
                <button onclick="startListening()" id="micBtn" style="background:var(--accent); color:white; border:none; width:50px; height:50px; border-radius:50%; font-size:24px; cursor:pointer; box-shadow:0 4px 10px rgba(0,0,0,0.1); transition:0.2s;">üé§</button>
                <div style="flex:1;">
                    <p id="statusText" style="font-size:12px; color:var(--text-dark); margin:0;">
                        Mic dabayein aur bolein...<br>
                        (Jaise: "Mehndi ghani chokhi lagayi")
                    </p>
                </div>
            </div>
            <div id="spokenTextDisplay" style="display:none; margin-top:10px; font-size:12px; font-style:italic; color:var(--primary); background:#fff; padding:8px; border-radius:4px; border-left: 3px solid var(--primary);"></div>
        </div>

        <div class="or-divider"><span>OR SELECT MANUALLY</span></div>

        <div style="display: flex; gap: 10px;">
            <div style="flex:1;">
                <label style="margin-top:0;">Location</label>
                <select id="locationSelect">
                    <option value="Jaipur">Jaipur</option>
                    <option value="Rajasthan">Rajasthan</option>
                    <option value="Mansarovar">Mansarovar</option>
                    <option value="Vaishali Nagar">Vaishali Nagar</option>
                </select>
            </div>
            <div style="flex:1;">
                <label style="margin-top:0;">Tone</label>
                <select id="toneSelect">
                    <option value="Grateful">Grateful üôè</option>
                    <option value="Professional">Professional üíº</option>
                    <option value="Friendly">Friendly üòÉ</option>
                </select>
            </div>
        </div>

        <label>Mehndi Type</label>
        <select id="designSelect">
            <option value="Bridal">Bridal Mehndi üë∞</option>
            <option value="Bharwa">Bharwa Mehndi ‚ú®</option>
            <option value="Arabic">Arabic Mehndi üåø</option>
            <option value="Portrait">Portrait Mehndi üé®</option>
            <option value="Leg">Leg/Feet Mehndi ü¶∂</option>
        </select>

        <div><button class="toggle-name" onclick="toggleNameField()">+ Add Your Name</button></div>
        <div id="nameArea" style="display:none; clear:both; margin-top:5px;">
            <input type="text" id="userName" placeholder="Your Name (Optional)">
        </div>

        <label style="clear:both; margin-top: 15px;">Select highlights (Pick 3-4)</label>

        <div class="keywords-container">
            <div class="cat-title">ARTIST & SERVICE</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Best Mehndi artist')">üèÜ Best Artist</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Professional henna')">üñåÔ∏è Professional</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Home service')">üè† Home Service</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Portrait mehndi')">üé® Portrait Expert</div>

            <div class="cat-title">DESIGN QUALITY</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Best Bridal mehndi')">üë∞ Best Bridal</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Intricate Design')">‚ú® Intricate Work</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Peacock mehndi')">ü¶ö Peacock Design</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Dark Stain')">‚ù§Ô∏è Dark Color</div>

            <div class="cat-title">SAFETY</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Organic henna')">üåø Organic Henna</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Chemical-free')">üß™ Chemical-Free</div>
        </div>

        <button class="action-btn" onclick="generateReview()">üöÄ Generate Review</button>

        <textarea id="reviewOutput" style="width:100%; height:130px; margin-top:15px; border-radius:8px; padding:10px; border:1px solid #d4c5a3; display:none; background:#fff;" readonly></textarea>
        
        <button class="copy-btn" id="copyBtn" onclick="copyToClipboard()">üìã Copy & Open Google</button>
    </div>

    <div class="footer">
        <img src="https://growft.odoo.com/web/image/1477-e0a28764/growft%20logo.webp" class="footer-logo" alt="Growft" loading="lazy">
        <div class="footer-text">
            Powered by <a href="https://growft.net" target="_blank">Growft</a><br>
            Contact: <a href="tel:+917020370561">7020370561</a>
        </div>
    </div>
</div>

<script>
    // --- LINK ---
    const GOOGLE_REVIEW_LINK = "https://www.google.com/search?q=R+K+Mehndi+Artist+Reviews"; 
    
    // 1. RATING SYSTEM
    let currentRating = 0;
    let currentExp = '';

    function rate(stars) {
        currentRating = stars;
        document.querySelectorAll('.star').forEach((star, index) => {
            star.classList.toggle('selected', index < stars);
        });
        if(stars >= 4) selectExp('good'); else selectExp('bad');
    }

    function selectExp(type) {
        currentExp = type;
        document.getElementById('btn-good').classList.remove('active');
        document.getElementById('btn-bad').classList.remove('bad-active');
        if (type === 'good') document.getElementById('btn-good').classList.add('active');
        else document.getElementById('btn-bad').classList.add('bad-active');
    }

    function processRating() {
        if (currentRating === 0 && currentExp === '') {
            alert("Please select a star rating.");
            return;
        }
        document.getElementById('ratingScreen').style.display = 'none';
        let isHappy = (currentRating >= 4) || (currentExp === 'good');
        if (isHappy) {
            document.getElementById('aiToolScreen').style.display = 'block';
        } else {
            document.getElementById('privateFeedbackScreen').style.display = 'block';
        }
    }

    function submitPrivateFeedback() {
        if(document.getElementById('privateFeedbackText').value.trim() === "") {
            alert("Please write a few words.");
            return;
        }
        document.getElementById('privateFeedbackScreen').style.display = 'none';
        document.getElementById('thankYouScreen').style.display = 'block';
    }

    // 2. VOICE RECOGNITION (HINDI/MARWADI -> ENGLISH)
    let recognition;

    function startListening() {
        if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {
            alert("Use Google Chrome for Voice Feature.");
            return;
        }

        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        recognition = new SpeechRecognition();
        
        // Hindi handles Marwadi dictation well enough for keywords
        recognition.lang = 'hi-IN'; 
        recognition.interimResults = false; 
        recognition.maxAlternatives = 1;

        const micBtn = document.getElementById('micBtn');
        const statusText = document.getElementById('statusText');
        const spokenDisplay = document.getElementById('spokenTextDisplay');

        spokenDisplay.style.display = 'none';
        micBtn.style.animation = "pulse 1.5s infinite";
        micBtn.style.backgroundColor = "#bc4749"; // Red
        statusText.innerText = "Sun raha hoon... (Bolein)";
        statusText.style.color = "#bc4749";

        try { recognition.start(); } catch (e) { resetMicUI(); }

        recognition.onresult = function(event) {
            recognition.stop();
            const text = event.results[0][0].transcript;
            
            spokenDisplay.style.display = 'block';
            spokenDisplay.innerText = `Aapne bola: "${text}"`;
            
            statusText.innerText = "Translating...";
            statusText.style.color = "#386641";

            setTimeout(() => {
                translateMarwadiToEnglish(text);
            }, 800);
        };

        recognition.onerror = function() { resetMicUI(); };
        recognition.onend = function() { resetMicUI(); };
    }

    function resetMicUI() {
        const micBtn = document.getElementById('micBtn');
        const statusText = document.getElementById('statusText');
        micBtn.style.animation = "none";
        micBtn.style.backgroundColor = "#bc4749";
        setTimeout(() => {
            if(statusText.innerText.includes("Translating")) return;
            statusText.innerText = "Mic dabayein aur bolein...";
            statusText.style.color = "#2c1810";
        }, 2000);
    }

    // --- 3. LOGIC: MARWADI/HINDI MAPPING TO ENGLISH ---
    function getRandom(arr) { return arr[Math.floor(Math.random() * arr.length)]; }

    function translateMarwadiToEnglish(hindiText) {
        const lowerText = hindiText.toLowerCase();
        const location = document.getElementById('locationSelect').value;
        let phrases = [];
        let matchFound = false;

        // Intro
        phrases.push(getRandom([
            `I recently booked R K Mehndi Artist in ${location}.`,
            `We hired R K Mehndi Artist for a function in ${location}.`,
            `Just got my mehndi done by R K Artist in ${location}.`
        ]));

        // --- KEYWORD MAPPING (HINDI & MARWADI) ---
        
        // 1. GOOD / BEAUTIFUL (Chokho, Futra, Badiya, Sunder)
        if(lowerText.match(/(chokho|chokhi|futra|sunder|badiya|accha|acha|mast|jordar|shandar|badhiya|sohna)/)) {
            phrases.push(getRandom([
                "The mehndi design was absolutely beautiful.",
                "Loved the intricate and traditional art.",
                "The design turned out very elegant and neat.",
                "Truly amazing work by the artist."
            ]));
            matchFound = true;
        }

        // 2. COLOR (Rang, Rachya, Color, Gehra, Dark)
        if(lowerText.match(/(rang|color|rachya|gehra|dark|laal|red|maroon)/)) {
            phrases.push(getRandom([
                "The stain of the henna turned out very dark and rich.",
                "I am in love with the dark color of the mehndi.",
                "High quality henna was used, the color is amazing.",
                "Got a beautiful dark stain within hours."
            ]));
            matchFound = true;
        }

        // 3. ARTIST / BEHAVIOR (Bhaiya, Artist, Svabhav, Nature, Vyavahar)
        if(lowerText.match(/(bhaiya|artist|svabhav|nature|vyavahar|aadmi|log|team)/)) {
            phrases.push(getRandom([
                "The artist is very polite and professional.",
                "Very humble team and great service.",
                "R K Mehndi Artist is very patient and skilled.",
                "Loved the friendly nature of the artist."
            ]));
            matchFound = true;
        }

        // 4. PRICE / MONEY (Paisa, Rate, Daam, Sasta, Reasonable)
        if(lowerText.match(/(paisa|rate|daam|sasta|kam|price|budget|kimat)/)) {
            phrases.push(getRandom([
                "Their prices are very reasonable.",
                "Great service at an affordable price.",
                "Value for money experience.",
                "Best rates in Jaipur for such quality work."
            ]));
            matchFound = true;
        }

        // 5. RECOMMEND (Aana, Sabko, Jarur, Try)
        if(lowerText.match(/(aana|sabko|jarur|try|bataunga|recommended)/)) {
            phrases.push(`I highly recommend R K Mehndi Artist to everyone in ${location}.`);
            matchFound = true;
        }

        // Fallback
        if(!matchFound) {
            phrases.push("They provide excellent mehndi services.");
            phrases.push("Very happy with the overall experience.");
        }

        // Outro
        phrases.push(getRandom([
            "Highly recommended!", 
            "Thank you so much.", 
            "Book them for your wedding!", 
            "5 stars from me."
        ]));

        displayResult(phrases.join(" "));
    }

    // --- 4. MANUAL GENERATION ---
    let selectedKeywords = [];
    const manualDB = {
        "Best Mehndi artist": ["One of the best mehndi artists in town.", "Talented and skilled artist."],
        "Professional henna": ["Very professional service.", "Clean and neat work."],
        "Home service": ["Loved the doorstep service.", "On-time home service provided."],
        "Portrait mehndi": ["The portrait was detailed and realistic.", "Expert in portrait mehndi."],
        "Best Bridal mehndi": ["Perfect choice for bridal mehndi.", "Made my big day special."],
        "Intricate Design": ["The details in the design were stunning.", "Very fine and intricate art."],
        "Peacock mehndi": ["Beautiful peacock motifs.", "Loved the traditional peacock design."],
        "Dark Stain": ["The color came out really dark.", "Quality of henna was excellent."],
        "Organic henna": ["Safe and organic henna used.", "Smelled natural and safe."],
        "Chemical-free": ["100% chemical free mehndi.", "No reaction, very safe."]
    };

    function toggleNameField() { 
        document.getElementById('nameArea').style.display = 'block';
    }
    
    function toggleKeyword(el, key) {
        el.classList.toggle('active');
        if (selectedKeywords.includes(key)) selectedKeywords = selectedKeywords.filter(i => i !== key);
        else selectedKeywords.push(key);
    }

    function generateReview() {
        const userName = document.getElementById('userName').value.trim();
        const location = document.getElementById('locationSelect').value;
        const tone = document.getElementById('toneSelect').value;
        
        if (selectedKeywords.length === 0) { alert("Select at least 3 highlights."); return; }

        // Intro
        const intros = [
            `I booked R K Mehndi Artist in ${location}.`,
            `Had a great experience with R K Mehndi Artist, ${location}.`,
            `Best mehndi service in ${location}.`
        ];
        let review = getRandom(intros);
        if(userName) review = `I am ${userName}. ` + review;
        review += " ";

        // Body
        selectedKeywords.forEach(k => {
            if(manualDB[k]) review += getRandom(manualDB[k]) + " ";
        });

        // Outro
        const outros = ["Highly recommended!", "Thank you!", "Must try."];
        review += getRandom(outros);

        displayResult(review);
    }

    function displayResult(text) {
        const box = document.getElementById('reviewOutput');
        const btn = document.getElementById('copyBtn');
        box.style.display = 'block';
        box.value = text;
        btn.style.display = 'block';
        box.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }

    function copyToClipboard() {
        const box = document.getElementById("reviewOutput");
        box.select();
        box.setSelectionRange(0, 99999);
        navigator.clipboard.writeText(box.value).then(() => {
            if(confirm("Review Copied! üìã\n\nClick OK to open Google Maps.")) window.open(GOOGLE_REVIEW_LINK, '_blank');
        });
    }
</script>

</body>
</html>
