<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Feedback - R K Mehndi Artist</title>
    <style>
        /* --- THEME: MEHNDI & WEDDING --- */
        :root {
            --primary: #386641; /* Henna Green */
            --primary-light: #6a994e;
            --accent: #bc4749; /* Deep Maroon */
            --bg-color: #f2e8cf; /* Cream */
            --card-bg: #ffffff;
            --gold: #ffb703;
            --text-dark: #2c1810;
        }

        /* --- RESET & BODY --- */
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: var(--bg-color);
            background-image: radial-gradient(#dbd3b8 1px, transparent 1px);
            background-size: 20px 20px;
            margin: 0; padding: 20px 10px;
            min-height: 100vh; display: flex;
            justify-content: center; align-items: flex-start;
        }

        .container {
            background: var(--card-bg); width: 100%; max-width: 500px;
            padding: 25px; border-radius: 20px;
            box-shadow: 0 10px 30px rgba(56, 102, 65, 0.2);
            border-top: 6px solid var(--accent); margin: auto;
            text-align: center;
            position: relative; overflow: hidden;
        }

        .container::before { content: "üåø"; position: absolute; top: 10px; right: 15px; font-size: 24px; opacity: 0.2; }

        h1 { color: var(--accent); margin: 5px 0 2px 0; font-size: 28px; font-weight: 800; font-family: 'Georgia', serif; }
        .location { color: var(--primary); font-size: 14px; font-weight: 700; text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 15px; }
        
        .phone-link {
            text-decoration: none; color: #fff; background: var(--primary);
            padding: 10px 20px; border-radius: 25px; display: inline-block;
            font-size: 15px; font-weight: 600; transition: 0.2s;
            box-shadow: 0 4px 6px rgba(56, 102, 65, 0.3); margin-bottom: 20px;
        }

        /* --- INPUTS --- */
        select, input {
            width: 100%; padding: 12px; border-radius: 8px;
            border: 1px solid #d4c5a3; background: #faf9f6;
            font-size: 15px; outline: none; margin-bottom: 10px; color: var(--text-dark);
        }
        label { font-weight: 700; display: block; margin-top: 12px; margin-bottom: 6px; color: var(--primary); font-size: 12px; text-transform: uppercase; text-align: left; }

        /* --- RATING --- */
        .star-container { display: flex; justify-content: center; gap: 8px; margin: 20px 0; direction: ltr; }
        .star { font-size: 45px; color: #e0e0e0; cursor: pointer; transition: transform 0.2s; }
        .star.selected { color: var(--gold); }

        .experience-btns { display: flex; gap: 10px; margin-bottom: 25px; justify-content: center; }
        .exp-btn {
            padding: 12px 20px; border: 1px solid #d4c5a3; border-radius: 8px;
            background: #fff; cursor: pointer; font-weight: 600; color: var(--text-dark);
            flex: 1; transition: 0.2s;
        }
        .exp-btn.active { background: var(--primary); color: white; border-color: var(--primary); }
        .exp-btn.bad-active { background: #bc4749; color: white; border-color: #bc4749; }

        .action-btn {
            width: 100%; padding: 14px; background: linear-gradient(135deg, var(--accent) 0%, #a03032 100%);
            color: white; border: none; border-radius: 8px;
            font-size: 16px; font-weight: 700; cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,0,0,0.15); margin-top: 10px;
        }

        /* --- CHIPS --- */
        .keywords-container { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 5px; }
        .keyword-chip { 
            padding: 8px 14px; background-color: #fff; border-radius: 20px; 
            font-size: 13px; font-weight: 600; cursor: pointer; 
            border: 1px solid #d4c5a3; color: var(--primary); 
            flex-grow: 1; text-align: center;
        }
        .keyword-chip.active { background-color: var(--primary); color: white; border-color: var(--primary); }
        .cat-title { font-size: 11px; color: var(--accent); margin: 15px 0 5px 0; font-weight: 800; border-bottom: 1px dashed #d4c5a3; width:100%; text-align:left; }

        textarea.feedback-box {
            width: 100%; height: 120px; padding: 12px;
            border: 1px solid #d4c5a3; border-radius: 8px; resize: none;
            background: #faf9f6; margin-bottom: 15px; font-family: inherit;
        }

        .copy-btn { width: 100%; padding: 12px; background-color: #e85d04; color: white; border: none; border-radius: 8px; margin-top: 15px; font-weight: 600; font-size: 15px; cursor: pointer; display: none; }

        /* --- ANIMATION --- */
        .fade-in { animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(188, 71, 73, 0.7); }
            70% { transform: scale(1.1); box-shadow: 0 0 0 10px rgba(188, 71, 73, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(188, 71, 73, 0); }
        }

        .toggle-name { font-size: 13px; color: var(--accent); text-decoration: underline; cursor: pointer; float: right; margin-top: 5px; border: none; background: none; }
        .or-divider { text-align: center; font-size: 12px; color: #64748b; margin: 20px 0; border-top: 1px solid #d4c5a3; position: relative; }
        .or-divider span { background: #fff; padding: 0 10px; position: relative; top: -10px; }

        /* FOOTER */
        .footer { margin-top: 35px; text-align: center; font-size: 12px; color: #64748b; border-top: 1px dashed #d4c5a3; padding-top: 15px; }
        .footer-logo { display: block; margin: 0 auto 5px auto; max-height: 28px; width: auto; opacity: 0.85; }
    </style>
</head>
<body>

<div class="container">
    
    <h1>R K Mehndi Artist</h1>
    <div class="location">‚ú® Jaipur, Rajasthan ‚ú®</div>
    <div><a href="tel:+917425899728" class="phone-link">üìû Book Appointment</a></div>

    <div id="ratingScreen" class="fade-in">
        <p>How was your Mehndi experience?</p>
        <div class="star-container">
            <span class="star" onclick="rate(1)">‚òÖ</span>
            <span class="star" onclick="rate(2)">‚òÖ</span>
            <span class="star" onclick="rate(3)">‚òÖ</span>
            <span class="star" onclick="rate(4)">‚òÖ</span>
            <span class="star" onclick="rate(5)">‚òÖ</span>
        </div>
        <div class="experience-btns">
            <button class="exp-btn" id="btn-bad" onclick="selectExp('bad')">Not Good üòû</button>
            <button class="exp-btn" id="btn-good" onclick="selectExp('good')">Loved it! üòç</button>
        </div>
        <button class="action-btn" onclick="processRating()">Next Step ‚û°</button>
    </div>

    <div id="privateFeedbackScreen" class="fade-in" style="display: none;">
        <h2 style="color:var(--accent);">We are sorry! üòî</h2>
        <p>Please tell us what went wrong.</p>
        <textarea id="privateFeedbackText" class="feedback-box" placeholder="Describe the issue..."></textarea>
        <button class="action-btn" style="background:#4b5563;" onclick="submitPrivateFeedback()">Submit Feedback</button>
    </div>

    <div id="thankYouScreen" class="fade-in" style="display: none;">
        <div style="font-size: 50px; margin-bottom:10px;">‚úÖ</div>
        <h2 style="color:var(--primary);">Thank You!</h2>
        <p>Your feedback has been submitted successfully.</p>
    </div>

    <div id="aiToolScreen" class="ai-tool-wrapper fade-in" style="display: none;">
        
        <div style="background: #e9f5db; padding: 15px; border-radius: 12px; margin-bottom: 20px; border: 1px dashed var(--primary);">
            <p style="margin:0 0 10px 0; font-size:13px; font-weight:700; color:var(--primary);">
                üéôÔ∏è Speak (Hindi/Marwadi) -> Get English Review
            </p>
            
            <div style="display:flex; gap:10px; align-items:center;">
                <button onclick="startListening()" id="micBtn" style="background:var(--accent); color:white; border:none; width:50px; height:50px; border-radius:50%; font-size:24px; cursor:pointer; box-shadow:0 4px 10px rgba(0,0,0,0.1); transition:0.2s;">üé§</button>
                <div style="flex:1;">
                    <p id="statusText" style="font-size:12px; color:var(--text-dark); margin:0;">
                        Mic dabayein aur bolein...<br>
                        (Jaise: "Mehndi ka rang bahut accha aaya")
                    </p>
                </div>
            </div>
            <div id="spokenTextDisplay" style="display:none; margin-top:10px; font-size:12px; font-style:italic; color:var(--primary); background:#fff; padding:8px; border-radius:4px; border-left: 3px solid var(--primary);"></div>
        </div>

        <div class="or-divider"><span>OR SELECT MANUALLY</span></div>

        <div style="display: flex; gap: 10px;">
            <div style="flex:1;">
                <label style="margin-top:0;">Location</label>
                <select id="locationSelect">
                    <option value="Jaipur">Jaipur</option>
                    <option value="Rajasthan">Rajasthan</option>
                    <option value="Mansarovar">Mansarovar</option>
                    <option value="Vaishali Nagar">Vaishali Nagar</option>
                    <option value="Malviya Nagar">Malviya Nagar</option>
                </select>
            </div>
            <div style="flex:1;">
                <label style="margin-top:0;">Tone</label>
                <select id="toneSelect">
                    <option value="Professional">Professional üíº</option>
                    <option value="Friendly">Friendly üòÉ</option>
                    <option value="Grateful">Grateful üôè</option>
                </select>
            </div>
        </div>

        <label>Mehndi Design Type</label>
        <select id="designSelect">
            <option value="Bridal">Bridal Mehndi üë∞</option>
            <option value="Bharwa">Bharwa Mehndi ‚ú®</option>
            <option value="Arabic">Arabic Mehndi üåø</option>
            <option value="Portrait">Portrait Mehndi üé®</option>
            <option value="3D">3D Mehndi Design üí†</option>
            <option value="Leg">Leg/Feet Mehndi ü¶∂</option>
            <option value="Baby Shower">Baby Shower Mehndi ü§∞</option>
        </select>

        <div><button class="toggle-name" onclick="toggleNameField()">+ Add Your Name</button></div>
        <div id="nameArea" style="display:none; clear:both; margin-top:5px;">
            <input type="text" id="userName" placeholder="Your Name (Optional)">
        </div>

        <label style="clear:both; margin-top: 15px;">Select highlights (Pick 3-4)</label>

        <div class="keywords-container">
            <div class="cat-title">ARTIST QUALITY</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Best Mehndi artist')">üèÜ Best Artist</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Professional henna')">üñåÔ∏è Professional</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Portrait mehndi')">üé® Portrait Expert</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Home service')">üè† Home Service</div>

            <div class="cat-title">DESIGN & STYLE</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Best Bridal mehndi')">üë∞ Best Bridal</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Minimalist')">‚ú® Minimalist</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Peacock mehndi')">ü¶ö Peacock</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Jewellery mehndi')">üíç Jewellery Style</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Back hand')">ü§ö Back Hand</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Leg mehndi')">ü¶∂ Leg Designs</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Abstract')">üåÄ Abstract</div>

            <div class="cat-title">SPECIALTY & CARE</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Organic henna')">üåø Organic Henna</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Chemical-free')">üß™ Chemical-Free</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Groom mehndi')">ü§µ Groom Mehndi</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Matching')">üíû Couple Matching</div>
        </div>

        <button class="action-btn" onclick="generateReview()">üöÄ Generate Review</button>

        <textarea id="reviewOutput" style="width:100%; height:130px; margin-top:15px; border-radius:8px; padding:10px; border:1px solid #d4c5a3; display:none; background:#fff;" readonly></textarea>
        
        <button class="copy-btn" id="copyBtn" onclick="copyToClipboard()">üìã Copy & Open Google</button>
    </div>

    <div class="footer">
        <img src="https://growft.odoo.com/web/image/1477-e0a28764/growft%20logo.webp" class="footer-logo" alt="Growft" loading="lazy">
        <div class="footer-text">
            Powered by <a href="https://growft.net" target="_blank">Growft</a><br>
            Contact: <a href="tel:+917020370561">7020370561</a>
        </div>
    </div>
</div>

<script>
    // --- LINK ---
    const GOOGLE_REVIEW_LINK = "https://www.google.com/search?q=R+K+Mehndi+Artist+Reviews"; 
    
    // 1. RATING SYSTEM
    let currentRating = 0;
    let currentExp = '';

    function rate(stars) {
        currentRating = stars;
        document.querySelectorAll('.star').forEach((star, index) => {
            star.classList.toggle('selected', index < stars);
        });
        if(stars >= 4) selectExp('good'); else selectExp('bad');
    }

    function selectExp(type) {
        currentExp = type;
        document.getElementById('btn-good').classList.remove('active');
        document.getElementById('btn-bad').classList.remove('bad-active');
        if (type === 'good') document.getElementById('btn-good').classList.add('active');
        else document.getElementById('btn-bad').classList.add('bad-active');
    }

    function processRating() {
        if (currentRating === 0 && currentExp === '') {
            alert("Please select a star rating.");
            return;
        }
        document.getElementById('ratingScreen').style.display = 'none';
        let isHappy = (currentRating >= 4) || (currentExp === 'good');
        if (isHappy) {
            document.getElementById('aiToolScreen').style.display = 'block';
        } else {
            document.getElementById('privateFeedbackScreen').style.display = 'block';
        }
    }

    function submitPrivateFeedback() {
        if(document.getElementById('privateFeedbackText').value.trim() === "") {
            alert("Please write a few words.");
            return;
        }
        document.getElementById('privateFeedbackScreen').style.display = 'none';
        document.getElementById('thankYouScreen').style.display = 'block';
    }

    // 2. VOICE RECOGNITION (HINDI/MARWADI -> API -> ENGLISH)
    let recognition;

    function startListening() {
        if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {
            alert("Use Google Chrome for Voice Feature.");
            return;
        }

        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        recognition = new SpeechRecognition();
        
        recognition.lang = 'hi-IN'; 
        recognition.interimResults = false; 
        recognition.maxAlternatives = 1;

        const micBtn = document.getElementById('micBtn');
        const statusText = document.getElementById('statusText');
        const spokenDisplay = document.getElementById('spokenTextDisplay');

        spokenDisplay.style.display = 'none';
        micBtn.style.animation = "pulse 1.5s infinite";
        micBtn.style.backgroundColor = "#bc4749"; 
        statusText.innerText = "Sun raha hoon... (Bolein)";
        statusText.style.color = "#bc4749";

        try { recognition.start(); } catch (e) { resetMicUI(); }

        recognition.onresult = function(event) {
            recognition.stop();
            const text = event.results[0][0].transcript;
            
            spokenDisplay.style.display = 'block';
            spokenDisplay.innerText = `Aapne bola: "${text}"`;
            
            statusText.innerText = "Translating with AI...";
            statusText.style.color = "#386641";

            // Call API
            translateWithAPI(text);
        };

        recognition.onerror = function() { resetMicUI(); };
        recognition.onend = function() { resetMicUI(); };
    }

    function resetMicUI() {
        const micBtn = document.getElementById('micBtn');
        const statusText = document.getElementById('statusText');
        micBtn.style.animation = "none";
        micBtn.style.backgroundColor = "#bc4749";
        setTimeout(() => {
            if(statusText.innerText.includes("Translating")) return;
            statusText.innerText = "Mic dabayein aur bolein...";
            statusText.style.color = "#2c1810";
        }, 2000);
    }

    // --- 3. REAL TRANSLATION API LOGIC ---
    async function translateWithAPI(hindiText) {
        const location = document.getElementById('locationSelect').value;
        const statusText = document.getElementById('statusText');

        try {
            // Using MyMemory Free Translation API
            const apiUrl = `https://api.mymemory.translated.net/get?q=${encodeURIComponent(hindiText)}&langpair=hi|en`;
            
            const response = await fetch(apiUrl);
            const data = await response.json();
            
            let translatedText = "";
            
            if(data.responseData && data.responseData.translatedText) {
                translatedText = data.responseData.translatedText;
            } else {
                throw new Error("Translation failed");
            }

            // Create Professional Structure
            const finalReview = `I booked R K Mehndi Artist in ${location}. ${translatedText} Highly recommended!`;
            
            displayResult(finalReview);
            statusText.innerText = "Done!";

        } catch (error) {
            console.error("API Error:", error);
            statusText.innerText = "Net Error. Using Basic Mode.";
            // Fallback to manual logic if API fails
            generateReview(); 
        }
    }

    // --- 4. MANUAL GENERATION ---
    // Helper for random selection
    function getRandom(arr) { return arr[Math.floor(Math.random() * arr.length)]; }

    let selectedKeywords = [];
    const reviewDB = {
        intros: {
            "Professional": ["I recently booked R K Mehndi Artist in {location}.", "We hired R K Mehndi Artist for a wedding in {location}."],
            "Friendly": ["Loved the vibe and art of R K Mehndi Artist in {location}!", "Such a sweet team and amazing talent."],
            "Grateful": ["I am so thankful to R K Mehndi Artist.", "Thank you for making my day special."]
        },
        designSentences: {
            "Bridal": "The **Bridal Mehndi** was intricate and stunning.",
            "Bharwa": "The **Bharwa Mehndi** looked so full and traditional.",
            "Arabic": "Loved the flow of the **Arabic Mehndi** design.",
            "Portrait": "The **Portrait Mehndi** was a masterpiece, looked exactly like the photo.",
            "3D": "The **3D Mehndi** effect was unique and modern.",
            "Leg": "The **Leg/Feet Mehndi** was applied with precision.",
            "Baby Shower": "The **Baby Shower** design was so cute."
        },
        keywords: {
            "Best Mehndi artist": ["Truly the best mehndi artist in town.", "Hands down the most talented artist.", "Hard to find such a skilled hand.", "The artist has magical hands.", "One of the finest mehndi artists."],
            "Best Bridal mehndi": ["My bridal design was exactly what I dreamed of.", "Best choice for bridal henna.", "The bridal work was extremely detailed.", "Made my wedding day extra special.", "Every bride should book them."],
            "Home service": ["Loved the convenience of their home service.", "They came to my home and did a great job.", "On-time home service for mehndi.", "Very punctual team for home visits.", "Hassle-free doorstep service."],
            "Professional henna": ["Used very professional grade henna paste.", "The application was clean and professional.", "A team of professional henna experts.", "Very neat and clean work.", "Highly professional attitude."],
            "Leg mehndi": ["The leg mehndi designs were so detailed.", "I loved the work done on my feet.", "Beautiful traditional designs for legs.", "The feet mehndi was just perfect.", "Intricate leg mehndi patterns."],
            "Groom mehndi": ["The groom's mehndi was simple yet elegant.", "They have great designs for grooms too.", "My husband loved his minimalist groom mehndi.", "Perfect simple designs for men.", "Groom's henna came out great."],
            "Minimalist": ["I wanted a minimalist design and they nailed it.", "Perfect for those who like simple and elegant art.", "Beautiful minimalist patterns.", "Simple yet stunning work.", "Loved the minimal approach."],
            "Matching": ["They created perfect matching designs for the bride and groom.", "Loved the hidden names and matching patterns.", "The coordination in design was beautiful.", "Couple matching mehndi was unique.", "Great ideas for matching designs."],
            "Organic henna": ["So happy they use 100% organic henna.", "The henna smelled natural and was safe.", "Best organic mehndi artist in {location}.", "No chemicals, just pure henna.", "Safe and natural color."],
            "Chemical-free": ["Safe and chemical-free mehndi suitable for sensitive skin.", "No chemicals used, just pure henna.", "Got a dark stain without any chemicals.", "Skin-friendly henna paste.", "My skin felt safe with their henna."],
            "Portrait mehndi": ["The portrait was a xerox copy! Amazing.", "Experts in portrait mehndi art.", "The face detailing in the mehndi was unbelievable.", "Such realistic portrait work.", "Master of portrait mehndi."],
            "Jewellery mehndi": ["The jewellery style mehndi looked like real ornaments.", "Loved the bracelet and ring style designs.", "Very trendy jewellery mehndi patterns.", "Modern jewellery style henna.", "Elegant jewellery designs."],
            "Peacock mehndi": ["The peacock motifs were drawn so beautifully.", "Intricate peacock designs that look traditional.", "Expert in Indian peacock style mehndi.", "Beautiful peacock patterns.", "Traditional peacock art."],
            "Back hand": ["The back hand design was modern and chic.", "Loved the flow of the design on the back of my hand.", "Gorgeous Arabic style back hand work.", "Back hand patterns were trendy.", "Stylish back hand designs."],
            "Abstract": ["Unique abstract designs unlike the usual patterns.", "Very creative and abstract art.", "Modern abstract henna for a stylish look.", "Creative and unique patterns.", "Something different and abstract."]
        },
        outros: {
            "Professional": ["Highly recommended.", "A truly professional service.", "Will book again."],
            "Friendly": ["Can't wait to book again!", "You guys are the best!", "Lots of love."],
            "Grateful": ["God bless your hands.", "Truly grateful.", "Heartfelt thanks."]
        }
    };

    function toggleNameField() { 
        document.getElementById('nameArea').style.display = 'block';
    }
    
    function toggleKeyword(el, key) {
        el.classList.toggle('active');
        if (selectedKeywords.includes(key)) selectedKeywords = selectedKeywords.filter(i => i !== key);
        else selectedKeywords.push(key);
    }

    function generateReview() {
        const userName = document.getElementById('userName').value.trim();
        const location = document.getElementById('locationSelect').value;
        const tone = document.getElementById('toneSelect').value;
        const designType = document.getElementById('designSelect').value;
        
        if (selectedKeywords.length === 0) { alert("Select at least 3 highlights."); return; }

        // 1. Intro
        let intro = getRandom(reviewDB.intros[tone]).replace("{location}", location);
        if(userName) intro = `I am ${userName}. ` + intro;

        // 2. Design Sentence
        let designSent = reviewDB.designSentences[designType] || "";

        // 3. Body
        let body = "";
        selectedKeywords.forEach(k => {
            if(reviewDB.keywords[k]) body += getRandom(reviewDB.keywords[k]) + " ";
        });

        // 4. Outro
        let outro = getRandom(reviewDB.outros[tone]);

        const finalReview = `${intro} ${designSent} ${body} ${outro}`;
        displayResult(finalReview);
    }

    function displayResult(text) {
        const box = document.getElementById('reviewOutput');
        const btn = document.getElementById('copyBtn');
        box.style.display = 'block';
        box.value = text;
        btn.style.display = 'block';
        box.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }

    function copyToClipboard() {
        const box = document.getElementById("reviewOutput");
        box.select();
        box.setSelectionRange(0, 99999);
        navigator.clipboard.writeText(box.value).then(() => {
            if(confirm("Review Copied! üìã\n\nClick OK to open Google Maps.")) window.open(GOOGLE_REVIEW_LINK, '_blank');
        });
    }
</script>

</body>
</html>
