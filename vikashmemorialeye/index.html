<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Feedback - Vikash Memorial Eye Hospital</title>
    <style>
        /* --- THEME: EYE HOSPITAL (Medical Blue & Clean White) --- */
        :root {
            --primary: #0284c7; /* Sky Blue 600 */
            --primary-dark: #0369a1; /* Sky Blue 700 */
            --accent: #0ea5e9; /* Sky Blue 500 */
            --bg-color: #f0f9ff; /* Very Light Blue */
            --card-bg: #ffffff;
            --text-main: #334155;
            --gold: #fbbf24;
            --gray: #64748b;
        }

        /* --- RESET & BODY --- */
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body {
            font-family: 'Segoe UI', Roboto, Helvetica, sans-serif;
            background-color: var(--bg-color);
            margin: 0; padding: 20px 10px;
            min-height: 100vh; display: flex;
            justify-content: center; align-items: flex-start;
            color: var(--text-main);
        }

        /* --- CONTAINER --- */
        .container {
            background: var(--card-bg); width: 100%; max-width: 500px;
            padding: 25px; border-radius: 16px;
            box-shadow: 0 10px 30px rgba(2, 132, 199, 0.15);
            border-top: 6px solid var(--primary); margin: auto;
            text-align: center;
        }

        /* --- HEADER --- */
        h1 { color: var(--primary-dark); margin: 5px 0 2px 0; font-size: 24px; font-weight: 800; }
        .location { color: var(--gray); font-size: 14px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 10px; }
        
        /* PHONE NUMBER STYLE */
        .phone-link {
            text-decoration: none; color: #fff; background: var(--primary);
            padding: 8px 18px; border-radius: 20px; display: inline-block;
            font-size: 14px; font-weight: 700; transition: 0.2s;
            box-shadow: 0 4px 6px rgba(2, 132, 199, 0.2); margin-bottom: 20px;
        }
        .phone-link:hover { transform: translateY(-1px); background: var(--primary-dark); }

        p { color: var(--text-main); font-size: 15px; margin-bottom: 20px; line-height: 1.5; }

        /* --- INPUTS & SELECTS --- */
        select, input {
            width: 100%; padding: 12px; border-radius: 8px;
            border: 1px solid #bae6fd; background: #f0f9ff;
            font-size: 14px; outline: none; margin-bottom: 10px;
            color: var(--text-main);
        }
        select:focus, input:focus { border-color: var(--primary); background: #fff; }
        
        label { 
            font-weight: 700; display: block; margin-top: 12px; margin-bottom: 6px; 
            color: var(--primary-dark); font-size: 12px; text-transform: uppercase; text-align: left; 
        }

        /* --- STAR RATING --- */
        .star-container {
            display: flex; justify-content: center; gap: 8px; margin: 20px 0;
            direction: ltr;
        }
        .star {
            font-size: 42px; color: #cbd5e1; cursor: pointer; transition: transform 0.2s, color 0.2s;
        }
        .star.selected { color: var(--gold); }
        .star:hover { transform: scale(1.15); }

        /* --- BUTTONS --- */
        .experience-btns { display: flex; gap: 10px; margin-bottom: 25px; justify-content: center; }
        .exp-btn {
            padding: 12px 15px; border: 1px solid #bae6fd; border-radius: 8px;
            background: #fff; cursor: pointer; font-weight: 600; color: var(--text-main);
            flex: 1; transition: 0.2s; font-size: 14px;
        }
        .exp-btn.active { background: var(--primary); color: white; border-color: var(--primary); box-shadow: 0 4px 10px rgba(2, 132, 199, 0.3); }
        .exp-btn.bad-active { background: #ef4444; color: white; border-color: #ef4444; box-shadow: 0 4px 10px rgba(239, 68, 68, 0.3); }

        .action-btn {
            width: 100%; padding: 14px; background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white; border: none; border-radius: 8px;
            font-size: 16px; font-weight: 700; cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin-top: 10px;
        }
        .action-btn:active { transform: scale(0.98); }

        /* --- PRIVATE FEEDBACK --- */
        textarea.feedback-box {
            width: 100%; height: 120px; padding: 12px;
            border: 1px solid #bae6fd; border-radius: 8px; resize: none;
            font-family: inherit; margin-bottom: 15px; background: #f0f9ff;
        }

        /* --- AI TOOL STYLES --- */
        .ai-tool-wrapper { text-align: left; display: none; }
        
        .category-header {
            font-size: 11px; color: var(--gray); margin: 15px 0 8px 0; font-weight: 700; letter-spacing: 0.5px; border-bottom: 1px dashed #bae6fd; padding-bottom: 4px;
        }
        
        .keywords-container { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 5px; }
        .keyword-chip { 
            padding: 8px 12px; background-color: #fff; border-radius: 20px; 
            font-size: 12px; font-weight: 600; cursor: pointer; 
            border: 1px solid #bae6fd; color: var(--primary); 
            flex-grow: 1; text-align: center; transition: 0.2s;
        }
        .keyword-chip.active { background-color: var(--primary); color: white; border-color: var(--primary); transform: translateY(-2px); box-shadow: 0 3px 8px rgba(2, 132, 199, 0.2); }

        .copy-btn { width: 100%; padding: 12px; background-color: #059669; /* Green */ color: white; border: none; border-radius: 8px; margin-top: 15px; font-weight: 600; font-size: 15px; cursor: pointer; display: none; box-shadow: 0 4px 6px rgba(5, 150, 105, 0.2); }

        /* --- UTILS --- */
        .hidden { display: none !important; }
        .fade-in { animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        .toggle-name { font-size: 13px; color: var(--primary); text-decoration: underline; cursor: pointer; float: right; margin-top: 5px; border: none; background: none; }

        /* --- FOOTER --- */
        .footer { margin-top: 35px; text-align: center; font-size: 12px; color: #94a3b8; border-top: 1px dashed #cbd5e1; padding-top: 15px; }
        .footer-logo { display: block; margin: 0 auto 5px auto; max-height: 28px; width: auto; opacity: 0.85; }
        .footer a { color: var(--primary); text-decoration: none; font-weight: 700; }
        .footer-text { margin-top: 5px; line-height: 1.6; }
    </style>



<div class="container">
    
    <h1>Vikash Memorial Eye Hospital</h1>
    <div class="location">üëÅÔ∏è Phagi ‚Ä¢ Chaksu ‚Ä¢ Rajasthan</div>
    
    <div>
        <a href="tel:+919001664477" class="phone-link">üìû Call Hospital</a>
    </div>

    <div id="ratingScreen" class="fade-in">
        <p>How was your eye check-up experience?</p>

        <div class="star-container">
            <span class="star" onclick="rate(1)">‚òÖ</span>
            <span class="star" onclick="rate(2)">‚òÖ</span>
            <span class="star" onclick="rate(3)">‚òÖ</span>
            <span class="star" onclick="rate(4)">‚òÖ</span>
            <span class="star" onclick="rate(5)">‚òÖ</span>
        </div>

        <div class="experience-btns">
            <button class="exp-btn" id="btn-bad" onclick="selectExp('bad')">Needs Improvement üòü</button>
            <button class="exp-btn" id="btn-good" onclick="selectExp('good')">Great Service üëì</button>
        </div>

        <button class="action-btn" onclick="processRating()">Next Step ‚û°</button>
    </div>

    <div id="privateFeedbackScreen" class="hidden fade-in">
        <h2 style="color:var(--text-main);">We are sorry! üòî</h2>
        <p>Please tell us how we can improve your patient experience.</p>
        <textarea id="privateFeedbackText" class="feedback-box" placeholder="Describe the issue..."></textarea>
        <button class="action-btn" style="background:var(--gray);" onclick="submitPrivateFeedback()">Submit Feedback</button>
    </div>

    <div id="thankYouScreen" class="hidden fade-in">
        <div style="font-size: 50px; margin-bottom:10px;">‚úÖ</div>
        <h2 style="color:var(--text-main);">Thank You!</h2>
        <p>Your feedback has been submitted successfully.</p>
    </div>

    <div id="aiToolScreen" class="ai-tool-wrapper fade-in">
        <p style="text-align:center; font-weight:bold; color:var(--primary); margin-bottom: 20px;">‚ú® Create your review in 1 click!</p>
        
        <div style="display: flex; gap: 10px;">
            <div style="flex:1;">
                <label style="margin-top:0;">Location</label>
                <select id="locationSelect">
                    <option value="Phagi">Phagi</option>
                    <option value="Chaksu">Chaksu</option>
                    <option value="Rajasthan">Rajasthan</option>
                </select>
            </div>
            <div style="flex:1;">
                <label style="margin-top:0;">Tone</label>
                <select id="toneSelect">
                    <option value="Professional">Professional üëî</option>
                    <option value="Friendly">Friendly üòÉ</option>
                    <option value="Short">Short &amp; Sweet üëå</option>
                    <option value="Grateful">Grateful üôè</option>
                </select>
            </div>
        </div>

        <label>Treatment / Check-up</label>
        <select id="procedureSelect">
            <option value="General Checkup">General Eye Check-up</option>
            <option value="Cataract Surgery">Cataract Surgery (Motiyabind)</option>
            <option value="LASIK">LASIK (Laser Vision Correction)</option>
            <option value="SMILE">SMILE (Small Incision Lenticule Extraction)</option>
            <option value="PRK">PRK (Photorefractive Keratectomy)</option>
            <option value="Contoura Vision">Contoura Vision</option>
            <option value="ICL">Implantable Collamer Lens (ICL)</option>
            <option value="MICS">Micro Incision Cataract Surgery</option>
            <option value="Glaucoma Surgery">Glaucoma Surgery</option>
            <option value="Retina Surgery">Retina Surgery</option>
            <option value="Corneal Transplant">Corneal Transplant</option>
            <option value="Squint Surgery">Strabismus (Squint) Correction</option>
            <option value="YAG Laser">YAG Laser Capsulotomy</option>
            <option value="Ptosis Repair">Ptosis Repair (Eyelid Surgery)</option>
            <option value="Retinal Laser">Retinal Laser Photocoagulation</option>
        </select>

        <div><button class="toggle-name" onclick="toggleNameField()">+ Add Your Name</button></div>
        <div id="nameArea" style="display:none; clear:both; margin-top:5px;">
            <input type="text" id="userName" placeholder="Your Name (Optional)">
        </div>

        <label style="clear:both;">Select what you liked (Pick 3-4)</label>

        <div class="category-header">GENERAL &amp; STAFF</div>
        <div class="keywords-container">
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Best Eye hospital')">üè• Best Eye Hospital</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Best Eye doctor')">üë®‚Äç‚öïÔ∏è Best Eye Doctor</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Best ophthalmologist')">ü©∫ Top Ophthalmologist</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'proffessional staff')">ü§ù Professional Staff</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'friendly welcoming')">üëã Friendly &amp; Welcoming</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Eye Care Center')">üíô Top Care Center</div>
        </div>

        <div class="category-header">TREATMENT &amp; SPECIALTIES</div>
        <div class="keywords-container">
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Phacoemulsification surgery')">üëÅÔ∏è Phaco Surgery</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'best Cataract treatment')">üîÜ Cataract Treatment</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Cornea specialist doctor')">üî¨ Cornea Specialist</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'best eye opticians')">üëì Best Opticians</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Computer vision syndrome')">üíª Computer Vision</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Macular degeneration')">üìâ Macular Treatment</div>
        </div>

        <div class="category-header">SYMPTOMS &amp; SERVICE</div>
        <div class="keywords-container">
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Red eye treatment')">üî¥ Red Eye Treatment</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Why do my eyes hurt')">ü§ï Eye Pain Relief</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'retinal detachment')">‚ö° Retinal Signs</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Same day eye appointment')">üìÖ Same Day Appt</div>
        </div>

        <button class="action-btn" onclick="generateReview()">üöÄ Generate Review</button>

        <textarea id="reviewOutput" style="width:100%; height:140px; margin-top:15px; border-radius:8px; padding:10px; border:1px solid #bae6fd; display:none; background:#fff;" readonly=""></textarea>
        
        <button class="copy-btn" id="copyBtn" onclick="copyToClipboard()">üìã Copy &amp; Open Google</button>
    </div>

    <div class="footer">
        <img src="https://growft.odoo.com/web/image/1477-e0a28764/growft%20logo.webp" class="footer-logo" alt="Growft" loading="lazy">
        
        <div class="footer-text">
            Powered by <a href="https://growft.net" target="_blank">Growft</a><br>
            Contact to build your AI Tool: <a href="tel:+917020370561">7020370561</a>
        </div>
    </div>
</div>

<script>
    // --- IMPORTANT: REPLACE THIS LINK ---
    const GOOGLE_REVIEW_LINK = "https://g.page/r/CbzNMBe581gSEBM/review"; 
    
    // --- RATING LOGIC ---
    let currentRating = 0;
    let currentExp = '';

    function rate(stars) {
        currentRating = stars;
        let allStars = document.querySelectorAll('.star');
        allStars.forEach((star, index) => {
            star.classList.toggle('selected', index < stars);
        });
        if(stars >= 4) selectExp('good');
        else selectExp('bad');
    }

    function selectExp(type) {
        currentExp = type;
        document.getElementById('btn-good').classList.remove('active');
        document.getElementById('btn-bad').classList.remove('bad-active');
        if (type === 'good') document.getElementById('btn-good').classList.add('active');
        else document.getElementById('btn-bad').classList.add('bad-active');
    }

    function processRating() {
        if (currentRating === 0 && currentExp === '') {
            alert("Please select a star rating.");
            return;
        }
        document.getElementById('ratingScreen').classList.add('hidden');
        
        let isHappy = (currentRating >= 4) || (currentExp === 'good');
        
        if (isHappy) {
            document.getElementById('aiToolScreen').style.display = 'block';
        } else {
            document.getElementById('privateFeedbackScreen').classList.remove('hidden');
        }
    }

    function submitPrivateFeedback() {
        if(document.getElementById('privateFeedbackText').value.trim() === "") {
            alert("Please write a few words.");
            return;
        }
        document.getElementById('privateFeedbackScreen').classList.add('hidden');
        document.getElementById('thankYouScreen').classList.remove('hidden');
    }

    // --- AI GENERATION LOGIC ---
    let selectedKeywords = [];

    const reviewDB = {
        // --- 40+ INTRO VARIATIONS ---
        intros: {
            "Professional": [
                "I visited Vikash Memorial Eye Hospital in {location} for my treatment.",
                "Highly professional experience at Vikash Memorial Eye Hospital, {location}.",
                "I recently consulted the specialists at Vikash Memorial Eye Hospital in {location}.",
                "The medical team at Vikash Memorial Eye Hospital {location} is exceptional.",
                "For advanced eye care in {location}, Vikash Memorial is a premier choice.",
                "I am writing this to recommend Vikash Memorial Eye Hospital in {location}.",
                "Received excellent medical attention at Vikash Memorial Eye Hospital.",
                "My experience with the ophthalmology department in {location} was satisfactory.",
                "Vikash Memorial Eye Hospital in {location} maintains high standards of care.",
                "I underwent a procedure at Vikash Memorial Eye Hospital, {location}.",
                "A very reliable eye care center located in {location}.",
                "The doctors at Vikash Memorial Eye Hospital {location} are highly skilled.",
                "I had a scheduled appointment at Vikash Memorial Eye Hospital in {location}."
            ],
            "Friendly": [
                "Had such a great experience at Vikash Memorial Eye Hospital in {location}! üòÉ",
                "Best eye hospital in {location}! The staff is amazing.",
                "Vikash Memorial Eye Hospital in {location} is simply the best.",
                "So happy with my visit to Vikash Memorial Eye Hospital, {location}.",
                "The doctors here in {location} are so kind and helpful.",
                "Wonderful service at Vikash Memorial Eye Hospital!",
                "They took such good care of my eyes in {location}.",
                "Vikash Memorial Eye Hospital is my go-to for eye care in {location}.",
                "Really impressed with the facility in {location}!",
                "Super friendly staff and great doctors at Vikash Memorial.",
                "Loved the service at this hospital in {location}."
            ],
            "Short": [
                "Best eye hospital in {location}.",
                "Great service at Vikash Memorial.",
                "Visited for eye checkup in {location}.",
                "Excellent doctors.",
                "Very professional staff.",
                "Good experience in {location}.",
                "Highly recommended eye clinic.",
                "Fast and effective treatment.",
                "Best ophthalmologist in {location}.",
                "Quality eye care.",
                "Five stars for the team."
            ],
            "Grateful": [
                "I am truly grateful to the doctors at Vikash Memorial Eye Hospital in {location}.",
                "They saved my vision! Thank you to the team in {location}.",
                "A heartfelt thanks to Vikash Memorial Eye Hospital.",
                "I cannot thank the doctor enough for the treatment in {location}.",
                "Blessed to have such good eye specialists in {location}.",
                "Thank you for the excellent care and support.",
                "My sincere appreciation to the entire staff in {location}.",
                "Grateful for the successful surgery at Vikash Memorial.",
                "Thanks to them, I can see clearly now.",
                "Thank you Vikash Memorial team for your kindness in {location}."
            ]
        },

        // --- 40+ OUTRO VARIATIONS ---
        outros: {
            "Professional": [
                "I highly recommend this hospital for any eye-related issues.",
                "They are definitely the best eye care providers in {location}.",
                "The facility is well-equipped and hygienic.",
                "A trustworthy name in ophthalmology in {location}.",
                "I am fully satisfied with the clinical outcome.",
                "Patients in {location} can rely on them for quality care.",
                "Their expertise in eye surgery is commendable.",
                "I will suggest Vikash Memorial to my colleagues.",
                "Excellent patient care management.",
                "They strictly follow all medical protocols.",
                "One of the finest eye hospitals in Rajasthan."
            ],
            "Friendly": [
                "Will definitely come back for regular checkups! üëç",
                "Don't go anywhere else in {location}, this is the best!",
                "Thanks again to the amazing team! üòä",
                "Keep up the great work!",
                "Highly recommended to all my friends in {location}.",
                "You guys are the best!",
                "So happy with my new glasses/vision!",
                "Cheers to the doctor!",
                "Love the friendly atmosphere here.",
                "10/10 experience!"
            ],
            "Short": [
                "Recommended.",
                "5 Stars.",
                "Great job.",
                "Best in town.",
                "Thank you.",
                "Very happy.",
                "Good hospital.",
                "Nice staff.",
                "Well done.",
                "Must visit."
            ],
            "Grateful": [
                "Thank you for restoring my vision.",
                "God bless the doctors and staff.",
                "I will always be thankful for your help.",
                "Thanks for the affordable and great treatment.",
                "Forever grateful to Vikash Memorial.",
                "Thanks for treating me like family.",
                "My vision is perfect now, thank you.",
                "Appreciate your dedication.",
                "Many thanks for the urgent help.",
                "Thank you for being so patient with me."
            ]
        },

        // --- KEYWORD SPECIFIC SENTENCES ---
        keywords: {
            "Best Eye hospital": ["It is hands down the best eye hospital in {location}.", "Vikash Memorial is the top eye hospital nearby.", "Facility wise, this is the best eye hospital."],
            "Best eye opticians": ["They have the best eye opticians who guided me well.", "Their optical department is very well stocked.", "Found the best eye opticians for my glasses here."],
            "Best eye specialis": ["Met the best eye specialist who diagnosed me correctly.", "The specialist explained everything very clearly.", "Hard to find such a good eye specialist in {location}."],
            "Best Eye doctor": ["The best eye doctor I have ever visited.", "Very experienced and the best eye doctor in town.", "We consulted the best eye doctor for my father."],
            "Phacoemulsification surgery": ["The Phacoemulsification surgery was done seamlessly.", "Advanced Phacoemulsification surgery facilities are available here.", "My recovery after Phacoemulsification surgery was very fast."],
            "Computer vision syndrome": ["Got great advice for my Computer vision syndrome.", "They treated my Computer vision syndrome effectively.", "If you work on screens, check them for Computer vision syndrome treatment."],
            "Macular degeneration": ["They are experts in Macular degeneration treatment.", "Received the best care for Macular degeneration.", "The doctor is very knowledgeable about Macular degeneration."],
            "Best ophthalmologist": ["Dr. is the best ophthalmologist in this region.", "Consulted the best ophthalmologist for my vision issues.", "Truly a skilled and best ophthalmologist."],
            "Cornea specialist doctor": ["The cornea specialist doctor was very thorough.", "We were looking for a cornea specialist doctor and found the best here.", "Excellent treatment by the cornea specialist doctor."],
            "Red eye treatment": ["Went there for red eye treatment and got instant relief.", "Their red eye treatment is very effective.", "Diagnosed the cause of my red eye immediately."],
            "Why do my eyes hurt": ["I asked why do my eyes hurt, and they explained it well.", "They found the reason why my eyes hurt and treated it.", "Finally got relief from the pain."],
            "retinal detachment": ["They identified the signs of retinal detachment early.", "Best place for retinal detachment screening.", "They are equipped to handle retinal detachment cases."],
            "Same day eye appointment": ["Got a same day eye appointment easily.", "Appreciated the same day eye appointment service.", "They accommodated me with a same day eye appointment."],
            "best Cataract treatment": ["They provide the best cataract treatment in {location}.", "My grandmother got the best cataract treatment here.", "Painless and best cataract treatment experience."],
            "Eye Care Center": ["A complete Eye Care Center for the family.", "State of the art Eye Care Center.", "Most hygienic Eye Care Center in {location}."]
        }
    };

    // --- UTILS ---
    function getRandomItem(arr) { return arr[Math.floor(Math.random() * arr.length)]; }
    function toggleNameField() { 
        const field = document.getElementById('nameArea');
        field.style.display = field.style.display === 'block' ? 'none' : 'block';
    }
    function toggleKeyword(element, keyword) {
        element.classList.toggle('active');
        if (selectedKeywords.includes(keyword)) {
            selectedKeywords = selectedKeywords.filter(item => item !== keyword);
        } else {
            selectedKeywords.push(keyword);
        }
    }

    function generateReview() {
        const userName = document.getElementById('userName').value.trim();
        const tone = document.getElementById('toneSelect').value;
        const location = document.getElementById('locationSelect').value;
        const procedure = document.getElementById('procedureSelect').value;
        const outputBox = document.getElementById('reviewOutput');
        const copyBtn = document.getElementById('copyBtn');

        if (selectedKeywords.length === 0) {
            alert("Please select at least 2 highlights.");
            return;
        }
        
        outputBox.style.display = 'block';
        outputBox.style.opacity = "0.5";

        // 1. INTRO
        let intro = getRandomItem(reviewDB.intros[tone]);
        intro = intro.replace(/{location}/g, location);
        if (userName) intro = `I am ${userName}. ` + intro;

        // 2. PROCEDURE SENTENCE (New Feature)
        let procSentence = "";
        if (procedure !== "General Checkup") {
            const procTemplates = [
                `I visited specifically for ${procedure}.`,
                `The ${procedure} was handled with great care.`,
                `My experience regarding ${procedure} was excellent.`,
                `I recommend them for ${procedure}.`
            ];
            procSentence = getRandomItem(procTemplates) + " ";
        } else {
            procSentence = "I went for a routine check-up. ";
        }

        // 3. BODY (Keywords)
        let body = "";
        const shuffledKeywords = selectedKeywords.sort(() => Math.random() - 0.5);
        shuffledKeywords.forEach((k) => {
            let sentence = getRandomItem(reviewDB.keywords[k]);
            if(sentence) {
                sentence = sentence.replace(/{location}/g, location);
                body += sentence + " ";
            }
        });

        // 4. OUTRO
        let outro = getRandomItem(reviewDB.outros[tone]);
        outro = outro.replace(/{location}/g, location);

        const finalReview = intro + " " + procSentence + body + outro;

        setTimeout(() => {
            outputBox.style.opacity = "1";
            outputBox.value = finalReview;
            copyBtn.style.display = "block";
            if (window.innerWidth < 600) outputBox.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }, 300);
    }

    function copyToClipboard() {
        const copyText = document.getElementById("reviewOutput");
        copyText.select();
        copyText.setSelectionRange(0, 99999);
        navigator.clipboard.writeText(copyText.value).then(() => {
            const isConfirmed = confirm("Review Copied! üìã\n\nClick OK to open Google Maps.");
            if(isConfirmed) window.open(GOOGLE_REVIEW_LINK, '_blank');
        });
    }
</script>
