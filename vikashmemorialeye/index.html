<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Feedback - Vikash Memorial Eye Hospital</title>
    <style>
        /* --- THEME COLORS --- */
        :root {
            --primary: #0284c7;
            --primary-dark: #0369a1;
            --bg-color: #f0f9ff;
            --card-bg: #ffffff;
            --text-main: #334155;
            --gold: #fbbf24;
            --gray: #64748b;
            --red: #ef4444;
            --green: #22c55e;
        }

        /* --- RESET --- */
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body {
            font-family: 'Segoe UI', Roboto, Helvetica, sans-serif;
            background-color: var(--bg-color);
            margin: 0; padding: 20px 10px;
            min-height: 100vh; display: flex;
            justify-content: center; align-items: flex-start;
            color: var(--text-main);
        }

        /* --- CONTAINER --- */
        .container {
            background: var(--card-bg); width: 100%; max-width: 500px;
            padding: 25px; border-radius: 16px;
            box-shadow: 0 10px 30px rgba(2, 132, 199, 0.15);
            border-top: 6px solid var(--primary); margin: auto;
            text-align: center;
        }

        h1 { color: var(--primary-dark); margin: 5px 0 2px 0; font-size: 24px; font-weight: 800; }
        .location { color: var(--gray); font-size: 14px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 10px; }
        
        .phone-link {
            text-decoration: none; color: #fff; background: var(--primary);
            padding: 8px 18px; border-radius: 20px; display: inline-block;
            font-size: 14px; font-weight: 700; transition: 0.2s;
            box-shadow: 0 4px 6px rgba(2, 132, 199, 0.2); margin-bottom: 20px;
        }

        /* --- INPUTS --- */
        select, input {
            width: 100%; padding: 12px; border-radius: 8px;
            border: 1px solid #bae6fd; background: #f0f9ff;
            font-size: 14px; outline: none; margin-bottom: 10px;
            color: var(--text-main);
        }
        label { font-weight: 700; display: block; margin-top: 12px; margin-bottom: 6px; color: var(--primary-dark); font-size: 12px; text-transform: uppercase; text-align: left; }

        /* --- RATING --- */
        .star-container { display: flex; justify-content: center; gap: 8px; margin: 20px 0; direction: ltr; }
        .star { font-size: 42px; color: #cbd5e1; cursor: pointer; transition: transform 0.2s, color 0.2s; }
        .star.selected { color: var(--gold); }

        .experience-btns { display: flex; gap: 10px; margin-bottom: 25px; justify-content: center; }
        .exp-btn {
            padding: 12px 15px; border: 1px solid #bae6fd; border-radius: 8px;
            background: #fff; cursor: pointer; font-weight: 600; color: var(--text-main);
            flex: 1; transition: 0.2s; font-size: 14px;
        }
        .exp-btn.active { background: var(--primary); color: white; border-color: var(--primary); box-shadow: 0 4px 10px rgba(2, 132, 199, 0.3); }
        .exp-btn.bad-active { background: #ef4444; color: white; border-color: #ef4444; box-shadow: 0 4px 10px rgba(239, 68, 68, 0.3); }

        .action-btn {
            width: 100%; padding: 14px; background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white; border: none; border-radius: 8px;
            font-size: 16px; font-weight: 700; cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin-top: 10px;
        }

        /* --- CHIPS & TEXT --- */
        .keywords-container { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 15px; }
        .keyword-chip { 
            padding: 8px 12px; background-color: #fff; border-radius: 20px; 
            font-size: 12px; font-weight: 600; cursor: pointer; 
            border: 1px solid #bae6fd; color: var(--primary); 
            flex-grow: 1; text-align: center; transition: 0.2s;
        }
        .keyword-chip.active { background-color: var(--primary); color: white; border-color: var(--primary); transform: translateY(-2px); box-shadow: 0 3px 6px rgba(2, 132, 199, 0.2); }
        
        .cat-title { width:100%; font-size: 11px; font-weight: 700; color: var(--gray); margin-top: 10px; border-bottom: 1px dashed #cbd5e1; padding-bottom: 3px; text-transform: uppercase; letter-spacing: 0.5px; }

        textarea.feedback-box {
            width: 100%; height: 120px; padding: 12px;
            border: 1px solid #bae6fd; border-radius: 8px; resize: none;
            background: #f0f9ff; margin-bottom: 15px; font-family: inherit;
        }

        .copy-btn { width: 100%; padding: 12px; background-color: var(--green); color: white; border: none; border-radius: 8px; margin-top: 15px; font-weight: 600; font-size: 15px; cursor: pointer; display: none; box-shadow: 0 4px 6px rgba(5, 150, 105, 0.2); }

        /* --- ANIMATIONS --- */
        .fade-in { animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); }
            70% { transform: scale(1.1); box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
        }

        /* --- FOOTER --- */
        .footer { margin-top: 35px; text-align: center; font-size: 12px; color: #94a3b8; border-top: 1px dashed #cbd5e1; padding-top: 15px; }
        .footer-logo { display: block; margin: 0 auto 5px auto; max-height: 28px; width: auto; opacity: 0.85; }
        .footer a { color: var(--primary); text-decoration: none; font-weight: 700; }
        
        .or-divider { text-align: center; font-size: 12px; color: var(--gray); margin: 20px 0; position: relative; }
        .or-divider:before { content: ""; position: absolute; left: 0; top: 50%; width: 45%; height: 1px; background: #cbd5e1; }
        .or-divider:after { content: ""; position: absolute; right: 0; top: 50%; width: 45%; height: 1px; background: #cbd5e1; }
        
        .toggle-name { font-size: 13px; color: var(--primary); text-decoration: underline; cursor: pointer; float: right; margin-top: 5px; border: none; background: none; }
    </style>
</head>
<body>

<div class="container">
    
    <h1>Vikash Memorial Eye Hospital</h1>
    <div class="location">üëÅÔ∏è Chaksu ‚Ä¢ Rajasthan</div>
    <div><a href="tel:+919001664477" class="phone-link">üìû Call Hospital</a></div>

    <div id="ratingScreen" class="fade-in">
        <p>How was your eye check-up experience?</p>
        <div class="star-container">
            <span class="star" onclick="rate(1)">‚òÖ</span>
            <span class="star" onclick="rate(2)">‚òÖ</span>
            <span class="star" onclick="rate(3)">‚òÖ</span>
            <span class="star" onclick="rate(4)">‚òÖ</span>
            <span class="star" onclick="rate(5)">‚òÖ</span>
        </div>
        <div class="experience-btns">
            <button class="exp-btn" id="btn-bad" onclick="selectExp('bad')">Needs Improvement üòü</button>
            <button class="exp-btn" id="btn-good" onclick="selectExp('good')">Great Service üëì</button>
        </div>
        <button class="action-btn" onclick="processRating()">Next Step ‚û°</button>
    </div>

    <div id="privateFeedbackScreen" class="fade-in" style="display: none;">
        <h2 style="color:var(--text-main);">We are sorry! üòî</h2>
        <p>Please tell us how we can improve your patient experience.</p>
        <textarea id="privateFeedbackText" class="feedback-box" placeholder="Describe the issue..."></textarea>
        <button class="action-btn" style="background:var(--gray);" onclick="submitPrivateFeedback()">Submit Feedback</button>
    </div>

    <div id="thankYouScreen" class="fade-in" style="display: none;">
        <div style="font-size: 50px; margin-bottom:10px;">‚úÖ</div>
        <h2 style="color:var(--text-main);">Thank You!</h2>
        <p>Your feedback has been submitted successfully.</p>
    </div>

    <div id="aiToolScreen" class="fade-in" style="display: none; text-align: left;">
        
        <div style="background: #e0f2fe; padding: 15px; border-radius: 12px; margin-bottom: 20px; border: 1px dashed var(--primary);">
            <p style="margin:0 0 10px 0; font-size:13px; font-weight:700; color:var(--primary-dark);">
                üéôÔ∏è Speak Hindi -> Get English Review
            </p>
            <div style="display:flex; gap:10px; align-items:center;">
                <button onclick="startListening()" id="micBtn" style="background:var(--primary); color:white; border:none; width:50px; height:50px; border-radius:50%; font-size:24px; cursor:pointer; box-shadow:0 4px 10px rgba(0,0,0,0.1); transition:0.2s;">üé§</button>
                <div style="flex:1;">
                    <p id="statusText" style="font-size:12px; color:var(--gray); margin:0;">
                        Mic dabayein aur Hindi me bolein...<br>
                        (Jaise: "Checkup bahut accha hua")
                    </p>
                </div>
            </div>
            <div id="spokenTextDisplay" style="display:none; margin-top:10px; font-size:12px; font-style:italic; color:var(--primary-dark); background:#fff; padding:8px; border-radius:4px; border-left: 3px solid var(--primary);"></div>
        </div>

        <div class="or-divider">OR SELECT MANUALLY</div>

        <div style="display: flex; gap: 10px;">
            <div style="flex:1;">
                <label style="margin-top:0;">Location</label>
                <select id="locationSelect">
                    <option value="Chaksu">Chaksu</option>
                    <option value="Rajasthan">Rajasthan</option>
                </select>
            </div>
            <div style="flex:1;">
                <label style="margin-top:0;">Language</label>
                <select id="langSelect">
                    <option value="en">English</option>
                    <option value="hi">Hindi (‡§π‡§ø‡§Ç‡§¶‡•Ä)</option>
                    <option value="hinglish">Hinglish</option>
                </select>
            </div>
        </div>

        <label>Treatment / Check-up</label>
        <select id="procedureSelect">
            <option value="General Checkup">General Eye Check-up</option>
            <option value="Cataract Surgery">Cataract Surgery (Motiyabind)</option>
            <option value="LASIK">LASIK</option>
            <option value="Glaucoma Surgery">Glaucoma Surgery</option>
        </select>

        <div><button class="toggle-name" onclick="toggleNameField()">+ Add Your Name</button></div>
        <div id="nameArea" style="display:none; clear:both; margin-top:5px;">
            <input type="text" id="userName" placeholder="Your Name (Optional)">
        </div>

        <label style="clear:both;">Select what you liked (Pick 4-5)</label>
        
        <div class="keywords-container">
            <div class="cat-title">Doctor & Staff</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Best Eye Doctor')">üë®‚Äç‚öïÔ∏è Best Eye Doctor</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Experienced Doctor')">üéì Experienced Doctor</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Professional Staff')">ü§ù Professional Staff</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Friendly Nature')">üòä Friendly Nature</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Good Listener')">üëÇ Good Listener</div>

            <div class="cat-title">Facilities & Service</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Best Eye Hospital')">üè• Best Eye Hospital</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Clean & Hygienic')">‚ú® Clean & Hygienic</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Fast Service')">‚è±Ô∏è Fast Service</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Good Management')">üìã Good Management</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Medical Store Inside')">üíä Pharmacy Inside</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Optical Shop')">üëì Optical Shop</div>

            <div class="cat-title">Treatment & Cost</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Successful Treatment')">‚úÖ Successful Treatment</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Painless Surgery')">üòå Painless Surgery</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Affordable Fees')">üí∞ Affordable Fees</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Latest Machines')">‚öôÔ∏è Latest Machines</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Ayushman Card')">üè• Ayushman Card</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Laser Treatment')">‚ö° Laser Treatment</div>

            <div class="cat-title">Overall</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Best in Chaksu')">üìç Best in Chaksu</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Highly Recommended')">üëç Highly Recommended</div>
            <div class="keyword-chip" onclick="toggleKeyword(this, 'Old & Trusted')">üèõÔ∏è Old & Trusted</div>
        </div>

        <button class="action-btn" onclick="generateReview()">üöÄ Generate Manual Review</button>

        <textarea id="reviewOutput" style="width:100%; height:140px; margin-top:15px; border-radius:8px; padding:10px; border:1px solid #bae6fd; display:none; background:#fff;" readonly></textarea>
        
        <button class="copy-btn" id="copyBtn" onclick="copyToClipboard()">üìã Copy & Open Google</button>
    </div>

    <div class="footer">
        <img src="https://growft.odoo.com/web/image/1477-e0a28764/growft%20logo.webp" class="footer-logo" alt="Growft" loading="lazy">
        <div class="footer-text">
            Powered by <a href="https://growft.net" target="_blank">Growft</a><br>
            Contact to build your AI Tool: <a href="tel:+917020370561">7020370561</a>
        </div>
    </div>
</div>

<script>
    // --- CONFIGURATION ---
    const GOOGLE_REVIEW_LINK = "https://g.page/r/CbzNMBe581gSEBM/review"; 
    
    // 1. RATING SYSTEM
    let currentRating = 0;
    let currentExp = '';

    function rate(stars) {
        currentRating = stars;
        document.querySelectorAll('.star').forEach((star, index) => {
            star.classList.toggle('selected', index < stars);
        });
        if(stars >= 4) selectExp('good'); else selectExp('bad');
    }

    function selectExp(type) {
        currentExp = type;
        document.getElementById('btn-good').classList.remove('active');
        document.getElementById('btn-bad').classList.remove('bad-active');
        if (type === 'good') document.getElementById('btn-good').classList.add('active');
        else document.getElementById('btn-bad').classList.add('bad-active');
    }

    function processRating() {
        if (currentRating === 0 && currentExp === '') {
            alert("Please select a star rating.");
            return;
        }
        document.getElementById('ratingScreen').style.display = 'none';
        let isHappy = (currentRating >= 4) || (currentExp === 'good');
        if (isHappy) {
            document.getElementById('aiToolScreen').style.display = 'block';
        } else {
            document.getElementById('privateFeedbackScreen').style.display = 'block';
        }
    }

    function submitPrivateFeedback() {
        if(document.getElementById('privateFeedbackText').value.trim() === "") {
            alert("Please write a few words.");
            return;
        }
        document.getElementById('privateFeedbackScreen').style.display = 'none';
        document.getElementById('thankYouScreen').style.display = 'block';
    }

    // 2. VOICE RECOGNITION + REAL TRANSLATION API
    let recognition;

    function startListening() {
        if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {
            alert("Use Google Chrome for Voice Feature.");
            return;
        }

        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        recognition = new SpeechRecognition();
        
        recognition.lang = 'hi-IN'; 
        recognition.interimResults = false; 
        recognition.maxAlternatives = 1;

        const micBtn = document.getElementById('micBtn');
        const statusText = document.getElementById('statusText');
        const spokenDisplay = document.getElementById('spokenTextDisplay');

        spokenDisplay.style.display = 'none';
        micBtn.style.animation = "pulse 1.5s infinite";
        micBtn.style.backgroundColor = "#ef4444";
        statusText.innerText = "Listening... (Bolein)";
        statusText.style.color = "#ef4444";

        try { recognition.start(); } catch (e) { resetMicUI(); }

        recognition.onresult = function(event) {
            recognition.stop();
            const rawText = event.results[0][0].transcript;
            spokenDisplay.style.display = 'block';
            spokenDisplay.innerText = `You said: "${rawText}"`;
            statusText.innerText = "Translating with AI...";
            statusText.style.color = "#0284c7";
            translateWithAPI(rawText);
        };

        recognition.onerror = function(event) {
            resetMicUI();
            if(event.error === 'no-speech') statusText.innerText = "No voice detected. Try again.";
        };
        recognition.onend = function() { resetMicUI(); };
    }

    function resetMicUI() {
        const micBtn = document.getElementById('micBtn');
        const statusText = document.getElementById('statusText');
        micBtn.style.animation = "none";
        micBtn.style.backgroundColor = "#0284c7";
        setTimeout(() => {
            if(statusText.innerText.includes("Translating")) return;
            statusText.innerText = "Mic dabayein aur Hindi me bolein...";
            statusText.style.color = "#64748b";
        }, 3000);
    }

    async function translateWithAPI(hindiText) {
        const location = document.getElementById('locationSelect').value;
        const statusText = document.getElementById('statusText');

        try {
            const apiUrl = `https://api.mymemory.translated.net/get?q=${encodeURIComponent(hindiText)}&langpair=hi|en`;
            const response = await fetch(apiUrl);
            const data = await response.json();
            
            let translatedText = "";
            if(data.responseData && data.responseData.translatedText) {
                translatedText = data.responseData.translatedText;
            } else { throw new Error("Translation failed"); }

            const finalReview = `I visited Vikash Memorial Eye Hospital in ${location}. ${translatedText} Highly recommended!`;
            displayResult(finalReview);
            statusText.innerText = "Done!";

        } catch (error) {
            console.error("API Error:", error);
            statusText.innerText = "Network Error. Using Offline Mode.";
            // Simple fallback
            displayResult(`I visited Vikash Memorial Eye Hospital in ${location}. Excellent service and doctors. Highly recommended!`);
        }
    }

    // --- 3. MANUAL LOGIC (KEYWORD MAPPING) ---
    const keywordData = {
        // DOCTOR
        "Best Eye Doctor": { en: "The doctor is very experienced and skilled.", hi: "‡§°‡•â‡§ï‡•ç‡§ü‡§∞ ‡§¨‡§π‡•Å‡§§ ‡§Ö‡§®‡•Å‡§≠‡§µ‡•Ä ‡§î‡§∞ ‡§ï‡•Å‡§∂‡§≤ ‡§π‡•à‡§Ç‡•§" },
        "Experienced Doctor": { en: "Dr. has great experience and diagnosis is perfect.", hi: "‡§°‡•â‡§ï‡•ç‡§ü‡§∞ ‡§∏‡§æ‡§π‡§¨ ‡§ï‡•ã ‡§¨‡§π‡•Å‡§§ ‡§Ö‡§®‡•Å‡§≠‡§µ ‡§π‡•à ‡§î‡§∞ ‡§®‡§ø‡§¶‡§æ‡§® ‡§∏‡§π‡•Ä ‡§π‡•à‡•§" },
        "Professional Staff": { en: "The staff is professional and supportive.", hi: "‡§∏‡•ç‡§ü‡§æ‡§´ ‡§¨‡§π‡•Å‡§§ ‡§™‡•á‡§∂‡•á‡§µ‡§∞ ‡§î‡§∞ ‡§∏‡§π‡§Ø‡•ã‡§ó‡•Ä ‡§π‡•à‡•§" },
        "Friendly Nature": { en: "Doctors have a very friendly nature.", hi: "‡§°‡•â‡§ï‡•ç‡§ü‡§∞‡•ã‡§Ç ‡§ï‡§æ ‡§∏‡•ç‡§µ‡§≠‡§æ‡§µ ‡§¨‡§π‡•Å‡§§ ‡§Æ‡§ø‡§≤‡§®‡§∏‡§æ‡§∞ ‡§π‡•à‡•§" },
        "Good Listener": { en: "The doctor listens to problems patiently.", hi: "‡§°‡•â‡§ï‡•ç‡§ü‡§∞ ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§ï‡•ã ‡§ß‡•à‡§∞‡•ç‡§Ø‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§∏‡•Å‡§®‡§§‡•á ‡§π‡•à‡§Ç‡•§" },

        // FACILITIES
        "Best Eye Hospital": { en: "It is the best eye hospital in {loc}.", hi: "‡§Ø‡§π {loc} ‡§ï‡§æ ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§Ü‡§Å‡§ñ‡•ã‡§Ç ‡§ï‡§æ ‡§Ö‡§∏‡•ç‡§™‡§§‡§æ‡§≤ ‡§π‡•à‡•§" },
        "Clean & Hygienic": { en: "The hospital is very clean and hygienic.", hi: "‡§Ö‡§∏‡•ç‡§™‡§§‡§æ‡§≤ ‡§¨‡§π‡•Å‡§§ ‡§∏‡§æ‡§´ ‡§î‡§∞ ‡§∏‡•ç‡§µ‡§ö‡•ç‡§õ ‡§π‡•à‡•§" },
        "Fast Service": { en: "Service was fast, no long waiting time.", hi: "‡§∏‡•á‡§µ‡§æ ‡§§‡•á‡§ú ‡§•‡•Ä, ‡§ú‡•ç‡§Ø‡§æ‡§¶‡§æ ‡§á‡§Ç‡§§‡§ú‡§æ‡§∞ ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§∞‡§®‡§æ ‡§™‡•ú‡§æ‡•§" },
        "Good Management": { en: "Everything is well managed here.", hi: "‡§Ø‡§π‡§æ‡§Å ‡§∏‡§¨ ‡§ï‡•Å‡§õ ‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§§‡§∞‡§π ‡§∏‡•á ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§π‡•à‡•§" },
        "Medical Store Inside": { en: "Pharmacy is available inside the hospital.", hi: "‡§Ö‡§∏‡•ç‡§™‡§§‡§æ‡§≤ ‡§ï‡•á ‡§Ö‡§Ç‡§¶‡§∞ ‡§π‡•Ä ‡§Æ‡•á‡§°‡§ø‡§ï‡§≤ ‡§∏‡•ç‡§ü‡•ã‡§∞ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§π‡•à‡•§" },
        "Optical Shop": { en: "They have a good optical shop for glasses.", hi: "‡§ö‡§∂‡•ç‡§Æ‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§â‡§®‡§ï‡•á ‡§™‡§æ‡§∏ ‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§¶‡•Å‡§ï‡§æ‡§® ‡§π‡•à‡•§" },

        // TREATMENT
        "Successful Treatment": { en: "My treatment was 100% successful.", hi: "‡§Æ‡•á‡§∞‡§æ ‡§á‡§≤‡§æ‡§ú 100% ‡§∏‡§´‡§≤ ‡§∞‡§π‡§æ‡•§" },
        "Painless Surgery": { en: "The surgery was completely painless.", hi: "‡§∏‡§∞‡•ç‡§ú‡§∞‡•Ä ‡§™‡•Ç‡§∞‡•Ä ‡§§‡§∞‡§π ‡§∏‡•á ‡§¶‡§∞‡•ç‡§¶ ‡§∞‡§π‡§ø‡§§ ‡§•‡•Ä‡•§" },
        "Affordable Fees": { en: "Treatment charges are very affordable.", hi: "‡§á‡§≤‡§æ‡§ú ‡§ï‡§æ ‡§ñ‡§∞‡•ç‡§ö ‡§¨‡§π‡•Å‡§§ ‡§ï‡§Æ ‡§î‡§∞ ‡§µ‡§æ‡§ú‡§ø‡§¨ ‡§π‡•à‡•§" },
        "Latest Machines": { en: "Hospital is equipped with latest machines.", hi: "‡§Ö‡§∏‡•ç‡§™‡§§‡§æ‡§≤ ‡§Ü‡§ß‡•Å‡§®‡§ø‡§ï ‡§Æ‡§∂‡•Ä‡§®‡•ã‡§Ç ‡§∏‡•á ‡§∏‡•Å‡§∏‡§ú‡•ç‡§ú‡§ø‡§§ ‡§π‡•à‡•§" },
        "Ayushman Card": { en: "Ayushman card facility is available.", hi: "‡§Ü‡§Ø‡•Å‡§∑‡•ç‡§Æ‡§æ‡§® ‡§ï‡§æ‡§∞‡•ç‡§° ‡§ï‡•Ä ‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§π‡•à‡•§" },
        "Laser Treatment": { en: "Advanced laser treatment is available.", hi: "‡§Ü‡§ß‡•Å‡§®‡§ø‡§ï ‡§≤‡•á‡§ú‡§∞ ‡§â‡§™‡§ö‡§æ‡§∞ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§π‡•à‡•§" },

        // OVERALL
        "Best in Chaksu": { en: "Definately the best hospital in Chaksu.", hi: "‡§ö‡§æ‡§ï‡§∏‡•Ç ‡§Æ‡•á‡§Ç ‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§Ö‡§∏‡•ç‡§™‡§§‡§æ‡§≤‡•§" },
        "Highly Recommended": { en: "I highly recommend everyone to visit here.", hi: "‡§Æ‡•à‡§Ç ‡§∏‡§≠‡•Ä ‡§ï‡•ã ‡§Ø‡§π‡§æ‡§Å ‡§Ü‡§®‡•á ‡§ï‡•Ä ‡§∏‡§≤‡§æ‡§π ‡§¶‡•á‡§§‡§æ ‡§π‡•Ç‡§Å‡•§" },
        "Old & Trusted": { en: "It is an old and trusted eye care center.", hi: "‡§Ø‡§π ‡§è‡§ï ‡§™‡•Å‡§∞‡§æ‡§®‡§æ ‡§î‡§∞ ‡§≠‡§∞‡•ã‡§∏‡•á‡§Æ‡§Ç‡§¶ ‡§®‡•á‡§§‡•ç‡§∞ ‡§¶‡•á‡§ñ‡§≠‡§æ‡§≤ ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞ ‡§π‡•à‡•§" }
    };

    let selectedKeywords = [];
    
    function toggleNameField() { 
        const field = document.getElementById('nameArea');
        field.style.display = field.style.display === 'block' ? 'none' : 'block';
    }
    
    function toggleKeyword(element, keyword) {
        element.classList.toggle('active');
        if (selectedKeywords.includes(keyword)) {
            selectedKeywords = selectedKeywords.filter(item => item !== keyword);
        } else {
            selectedKeywords.push(keyword);
        }
    }

    function generateReview() {
        const lang = document.getElementById('langSelect').value;
        const location = document.getElementById('locationSelect').value;
        const userName = document.getElementById('userName').value.trim();

        if (selectedKeywords.length === 0) { alert("Please select at least 2 highlights."); return; }
        
        let review = "";
        const isHindi = (lang === 'hi');
        
        // Intro
        if(isHindi) {
             review = `‡§Æ‡•à‡§Ç ‡§π‡§æ‡§≤ ‡§π‡•Ä ‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§ï‡§æ‡§∏ ‡§Æ‡•á‡§Æ‡•ã‡§∞‡§ø‡§Ø‡§≤ ‡§Ü‡§à ‡§π‡•â‡§∏‡•ç‡§™‡§ø‡§ü‡§≤, ${location} ‡§ó‡§Ø‡§æ ‡§•‡§æ‡•§ `;
             if(userName) review = `‡§Æ‡•à‡§Ç ${userName} ‡§π‡•Ç‡§Å‡•§ ` + review;
        } else {
             review = `I recently visited Vikash Memorial Eye Hospital in ${location}. `;
             if(userName) review = `I am ${userName}. ` + review;
        }

        // Body (Map Keywords to Sentences)
        selectedKeywords.forEach(key => {
            if(keywordData[key]) {
                let sentence = isHindi ? keywordData[key].hi : keywordData[key].en;
                sentence = sentence.replace("{loc}", location);
                review += sentence + " ";
            }
        });

        // Outro
        if(isHindi) review += "‡§ß‡§®‡•ç‡§Ø‡§µ‡§æ‡§¶!";
        else review += "Thank you!";
        
        displayResult(review);
    }

    // --- UTILS ---
    function displayResult(text) {
        const outputBox = document.getElementById('reviewOutput');
        const copyBtn = document.getElementById('copyBtn');
        outputBox.style.display = 'block';
        outputBox.value = text;
        copyBtn.style.display = 'block';
        outputBox.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }

    function copyToClipboard() {
        const copyText = document.getElementById("reviewOutput");
        copyText.select();
        copyText.setSelectionRange(0, 99999);
        navigator.clipboard.writeText(copyText.value).then(() => {
            if(confirm("Review Copied! üìã\n\nClick OK to open Google Maps.")) window.open(GOOGLE_REVIEW_LINK, '_blank');
        });
    }
</script>

</body>
</html>
